{% extends 'layout/template.html.twig' %}

{% import 'bootstrap/bootstrap.functions.html.twig' as bootstrap %}

{% block content %}

	<div class="header">
		<h1 id="logo">
			{{ brandname }}
		</h1>

		{% block progress %}
			{% include 'layout/question.progress.html.twig' %}
		{% endblock %}
	</div>

	{% set error = app.session.flashbag.get('error') %}
	{% if (error is not empty) %}
		<div class="alert alert-danger alert-dismissible" role="alert">
			<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			<ol>
				{% for flashMessage in error %}
					<li>{{ flashMessage }}</li>
				{% endfor %}
			</ol>
		</div>
	{% endif %}

	{% set notice = app.session.flashbag.get('notice') %}
	{% if (notice is not empty) %}
		<div class="alert alert-info alert-dismissible" role="alert">
			<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			<ol>
				{% for flashMessage in notice %}
					<li>{{ flashMessage }}</li>
				{% endfor %}
			</ol>
		</div>
	{% endif %}

	{% block questions %}
	{{ form_start(form, { 'attr': { 'id': 'questionnaireForm' }} ) }}
		<article class="question panel panel-default" id="questionnaire">

			{% if introtext is defined %}
				{% include 'layout/question.intro.text.html.twig' %}
			{% endif %}

			<div class="panel-heading panel-category">
				<div class="panel-title {% if category.description is defined %}withSubtitle{% endif %}">
					{{ bootstrap.title(category.title, { 'subtitle': true  }) }}
					{{ bootstrap.title(category.description, { 'subtitle': true }) }}
				</div>
			</div>

			<div class="answers">
				{% for question in questions %}
					{% include 'types/question.' ~ question.type ~ '.html.twig' with question %}
				{% endfor %}
			</div>

			<div class="panel-footer">
				{{ bootstrap.link("Vorige", "#", { 'class': 'btn-primary pull-left', 'icon': 'chevron-left' }) }}
				{{ bootstrap.button("Volgende", "submit", { 'class': 'btn-primary pull-right', 'icon': 'chevron-right', 'icon-align': 'right' }) }}
				{% include 'layout/question.pagination.html.twig' %}
			</div>

		</article>
	{{ form_end(form) }}
	{% endblock %}
{% endblock %}

{% block errors %}
{% endblock %}